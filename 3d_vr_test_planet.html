<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <title>VR Güneş Sistemi - Vive Pro</title>

  
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

  
  <script src="https://cdn.jsdelivr.net/npm/aframe-teleport-controls@5.0.0/dist/aframe-teleport-controls.min.js"></script>

  
  <script src="https://unpkg.com/aframe-particle-system-component@3.0.0/dist/aframe-particle-system-component.min.js"></script>

  <style>
    body { margin: 0; background: black; }
  </style>
</head>
<body>
  <a-scene background="color: black" vr-mode-ui="enabled: true" renderer="antialias: true">

    
    <a-assets>
      
      <audio id="bgm" src="soundtrack.mp3"></audio>

      
      <img id="skyTex" src="textures/sky.jpg">
      
      <img id="sunTex" src="textures/sun.jpg">
      <img id="mercuryTex" src="textures/mercury.jpg">
      <img id="venusTex" src="textures/venus.jpg">
      <img id="earthTex" src="textures/earth.jpg">
      <img id="marsTex" src="textures/mars.jpg">
      <img id="jupiterTex" src="textures/jupiter.jpg">
      <img id="saturnTex" src="textures/saturn.jpg">
      <img id="saturnRings" src="textures/saturnrings.png">
      <img id="uranusTex" src="textures/uranus.jpg">
      <img id="neptuneTex" src="textures/neptune.jpg">
      <img id="asteroidTex" src="textures/asteroid.jpg">
    </a-assets>

    
    <a-sky src="#skyTex"></a-sky>

    
    <a-entity sound="src: #bgm; autoplay: true; loop: true; volume: 0.5; positional: false"></a-entity>

   
    <a-entity id="sunEntity" position="0 2 -20">
      <a-sphere id="sun" src="#sunTex" radius="5" material="shader: standard; emissive: #ffbb55; emissiveIntensity: 0.7"></a-sphere>
      <a-entity light="type: point; color: #fff; intensity: 4; distance: 200"></a-entity>
    </a-entity>

    
    
    <a-entity id="orbit-mercury" position="0 0 -20" animation="property: rotation; to: 0 360 0; loop: true; dur: 25000; easing: linear">
      <a-sphere id="mercury" class="planet" src="#mercuryTex" radius="0.5" position="8 2 0"
                animation="property: rotation; to: 0 360 0; loop: true; dur: 8000; easing: linear"></a-sphere>

      
      <a-circle class="teleportable" id="tp-mercury" radius="1" rotation="-90 0 0"
                position="8 0.6 0" material="color: #444; opacity: 0.0"></a-circle>
    </a-entity>

    
    <a-entity id="orbit-venus" position="0 0 -20" animation="property: rotation; to: 0 360 0; loop: true; dur: 42000; easing: linear">
      <a-sphere id="venus" class="planet" src="#venusTex" radius="0.9" position="12 2 0"
                animation="property: rotation; to: 0 360 0; loop: true; dur: 22000; easing: linear"></a-sphere>
      <a-circle class="teleportable" id="tp-venus" radius="1.4" rotation="-90 0 0" position="12 0.7 0" material="opacity:0.0"></a-circle>
    </a-entity>

    
    <a-entity id="orbit-earth" position="0 0 -20" animation="property: rotation; to: 0 360 0; loop: true; dur: 68000; easing: linear">
      <a-sphere id="earth" class="planet" src="#earthTex" radius="1.2" position="16 2 0"
                animation="property: rotation; to: 0 360 0; loop: true; dur: 11000; easing: linear"></a-sphere>
      <a-circle class="teleportable" id="tp-earth" radius="1.8" rotation="-90 0 0" position="16 0.8 0" material="opacity:0.0"></a-circle>
    </a-entity>

    
    <a-entity id="orbit-mars" position="0 0 -20" animation="property: rotation; to: 0 360 0; loop: true; dur: 90000; easing: linear">
      <a-sphere id="mars" class="planet" src="#asteroidTex" radius="1" position="20 2 0"
                animation="property: rotation; to: 0 360 0; loop: true; dur: 9000; easing: linear"></a-sphere>
      <a-circle class="teleportable" id="tp-mars" radius="1.6" rotation="-90 0 0" position="20 0.7 0" material="opacity:0.0"></a-circle>
    </a-entity>

   
    <a-entity id="asteroid-belt" position="0 0 -20">
      
      <a-ring src="#asteroidTex" radius-inner="22" radius-outer="26" rotation="-90 0 0" material="shader: flat; opacity: 0.65"></a-ring>
      
      <a-entity id="belt-objects" rotation="0 0 0" animation="property: rotation; to: 0 -360 0; loop: true; dur: 120000; easing: linear">
        
        <a-sphere src="#asteroidTex" radius="0.3" position="24 1.6 6" animation="property: rotation; to: 0 360 0; loop: true; dur: 6000"></a-sphere>
        <a-sphere src="#asteroidTex" radius="0.25" position="25 2 -6" animation="property: rotation; to: 0 360 0; loop: true; dur: 7500"></a-sphere>
        <a-sphere src="#asteroidTex" radius="0.28" position="23 1 -10" animation="property: rotation; to: 0 360 0; loop: true; dur: 5000"></a-sphere>
      </a-entity>
    </a-entity>

    
    <a-entity id="orbit-jupiter" position="0 0 -20" animation="property: rotation; to: 0 360 0; loop: true; dur: 140000; easing: linear">
      <a-sphere id="jupiter" class="planet" src="#jupiterTex" radius="3" position="28 2 0"
                animation="property: rotation; to: 0 360 0; loop: true; dur: 20000; easing: linear"></a-sphere>
      <a-circle class="teleportable" id="tp-jupiter" radius="3.4" rotation="-90 0 0" position="28 0.9 0" material="opacity:0.0"></a-circle>
    </a-entity>

    
    <a-entity id="orbit-saturn" position="0 0 -20" animation="property: rotation; to: 0 360 0; loop: true; dur: 200000; easing: linear">
      <a-sphere id="saturn" class="planet" src="#saturnTex" radius="2.5" position="38 2 0"
                animation="property: rotation; to: 0 360 0; loop: true; dur: 26000; easing: linear"></a-sphere>

     
      <a-ring src="#saturnRings" position="38 2 0" rotation="90 0 0" radius-inner="2.8" radius-outer="4.5" material="shader: flat; transparent: true"></a-ring>

      <a-circle class="teleportable" id="tp-saturn" radius="3.0" rotation="-90 0 0" position="38 0.9 0" material="opacity:0.0"></a-circle>
    </a-entity>

    
    <a-entity id="orbit-uranus" position="0 0 -20" animation="property: rotation; to: 0 360 0; loop: true; dur: 260000; easing: linear">
      <a-sphere id="uranus" class="planet" src="#uranusTex" radius="2" position="48 2 0"
                animation="property: rotation; to: 0 360 0; loop: true; dur: 30000; easing: linear"></a-sphere>
      <a-circle class="teleportable" id="tp-uranus" radius="2.0" rotation="-90 0 0" position="48 0.9 0" material="opacity:0.0"></a-circle>
    </a-entity>

    
    <a-entity id="orbit-neptune" position="0 0 -20" animation="property: rotation; to: 0 360 0; loop: true; dur: 300000; easing: linear">
      <a-sphere id="neptune" class="planet" src="#neptuneTex" radius="2" position="56 2 0"
                animation="property: rotation; to: 0 360 0; loop: true; dur: 32000; easing: linear"></a-sphere>
      <a-circle class="teleportable" id="tp-neptune" radius="2.0" rotation="-90 0 0" position="56 0.9 0" material="opacity:0.0"></a-circle>
    </a-entity>

    
    <a-entity id="rig" position="0 1.6 5">
      <a-entity id="camera" camera look-controls wasd-controls-enabled="false"></a-entity>

      
      <a-entity id="rightHand"
                hand-controls="hand: right; handModelStyle: lowpoly; color: #ffcc00"
                teleport-controls="cameraRig: #rig; teleportOrigin: #camera; button: trigger; collisionEntities: .teleportable; hitColor: #7afcff">
      </a-entity>

      
      <a-entity id="leftHand" hand-controls="hand: left; handModelStyle: lowpoly; color: #00ccff"></a-entity>
    </a-entity>

    
    <a-entity id="effects-root"></a-entity>

    
    <a-entity position="0 2.6 -1">
      <a-text value="Vive: Sağ trigger ile işaretleyip ışınlan. Yakınlaşınca efekt açılır." align="center" color="#ddd" width="6"></a-text>
    </a-entity>

  </a-scene>

  
  <script>
    (function () {
      const scene = document.querySelector('a-scene');
      const rig = document.querySelector('#rig');
      const camera = document.querySelector('#camera');

      
      const planets = [
        { id: 'mercury', el: document.getElementById('mercury'), tp: document.getElementById('tp-mercury'), radius: 0.5 },
        { id: 'venus', el: document.getElementById('venus'), tp: document.getElementById('tp-venus'), radius: 0.9 },
        { id: 'earth', el: document.getElementById('earth'), tp: document.getElementById('tp-earth'), radius: 1.2 },
        { id: 'mars', el: document.getElementById('mars'), tp: document.getElementById('tp-mars'), radius: 1.0 },
        { id: 'jupiter', el: document.getElementById('jupiter'), tp: document.getElementById('tp-jupiter'), radius: 3.0 },
        { id: 'saturn', el: document.getElementById('saturn'), tp: document.getElementById('tp-saturn'), radius: 2.5 },
        { id: 'uranus', el: document.getElementById('uranus'), tp: document.getElementById('tp-uranus'), radius: 2.0 },
        { id: 'neptune', el: document.getElementById('neptune'), tp: document.getElementById('tp-neptune'), radius: 2.0 }
      ];

      
      const effectsRoot = document.getElementById('effects-root');

      
      planets.forEach(p => {
        const glow = document.createElement('a-entity');
        glow.setAttribute('id', p.id + '-glow');
        glow.setAttribute('visible', 'false');

        
        const ring = document.createElement('a-ring');
        ring.setAttribute('radius-inner', p.radius + 0.2);
        ring.setAttribute('radius-outer', p.radius + 0.8);
        ring.setAttribute('rotation', '-90 0 0');
        ring.setAttribute('material', 'color: #7afcff; opacity: 0.45; shader: flat; transparent: true');
        ring.setAttribute('animation', 'property: material.opacity; from: 0.45; to: 0.0; dur: 1200; dir: alternate; loop: true; easing: easeInOutQuad');

        
        const particles = document.createElement('a-entity');
        particles.setAttribute('particle-system', {
          preset: 'dust',
          particleCount: 60,
          color: '#7afcff, #ffffff',
          size: 0.02,
          maxParticleLife: 1.6,
          positionSpread: `${p.radius * 0.6} 0.2 ${p.radius * 0.6}`
        });

        glow.appendChild(ring);
        glow.appendChild(particles);
        effectsRoot.appendChild(glow);

        
        p.glow = glow;
      });

      
      
      function checkProximity() {
        const rigPos = rig.object3D.position;
        planets.forEach(p => {
          const planetPosWorld = new THREE.Vector3();
          p.el.object3D.getWorldPosition(planetPosWorld);

          const dist = rigPos.distanceTo(planetPosWorld);
         
          const threshold = p.radius + 2.2;

          if (dist <= threshold) {
            
            p.glow.object3D.position.copy(planetPosWorld);
            p.glow.setAttribute('visible', 'true');

            
            
            if (!rig._nearEffectApplied) {
              rig._nearEffectApplied = true;
              const camComp = camera.getAttribute('camera') || {};
              const originalFov = camComp.fov || 80;
              camera.setAttribute('camera', 'fov', originalFov - 8);
              setTimeout(() => {
                camera.setAttribute('camera', 'fov', originalFov);
                rig._nearEffectApplied = false;
              }, 900);
            }

          } else {
            p.glow.setAttribute('visible', 'false');
          }
        });
      }

      
      scene.addEventListener('loaded', () => {
        
        setInterval(checkProximity, 60);
      });

      
      const rightHand = document.getElementById('rightHand');
      rightHand && rightHand.addEventListener('teleport', (evt) => {

        if (rig && rig.object3D) {
          const pos = rig.object3D.position;

          setTimeout(() => {
            rig.object3D.position.set(pos.x, pos.y + 0.0, pos.z);
          }, 50);
        }
      });

      
      
    })();
  </script>
</body>
</html>
